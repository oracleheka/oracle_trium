<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Oracle Seshat : Tirage numérologique – Passage, chemin et discernement intérieur</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Tirage numérologique gratuit avec l’Oracle Seshat. Une méthode introspective pour éclairer le chemin de passage et les choix à partir du prénom et de la date de naissance.">
  <meta name="keywords" content="tirage numérologique, oracle Seshat, prénom et date de naissance, passage symbolique, discernement intérieur, oracle introspectif, tirage gratuit, chemin personnel">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Oracle Seshat : Tirage numérologique",
    "url": "https://oracleheka.github.io/oracle_trium/seshat_numerologique.html",
    "description": "Tirage numérologique gratuit avec l’Oracle Seshat. Une méthode introspective pour éclairer le chemin de passage et les choix à partir du prénom et de la date de naissance.",
    "inLanguage": "fr",
    "author": {
      "@type": "Person",
      "name": "Roland Alberolla"
    },
    "keywords": [
      "tirage numérologique",
      "oracle Seshat",
      "prénom et date de naissance",
      "passage symbolique",
      "discernement intérieur",
      "oracle introspectif",
      "tirage gratuit",
      "chemin personnel"
    ]
  }
  </script>
  
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f8f5f2;
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
     button {
  padding: 0.7rem 1.5rem;
  background-color: #4a90e2;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
}
    header {
      background-color: #f5efe6;
      padding: 1rem 2rem;
      display: flex;
      justify-content: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    header nav a {
      display: inline-block;
  padding: 0.75rem 1rem; /* agrandit la zone cliquable */
  margin: 0.25rem 0.5rem; /* espace entre les liens */
  text-decoration: none;
  color: #444;
  font-weight: bold;
  font-size: 1rem; /* assure lisibilité */
    }
    header nav a:hover {
      text-decoration: underline;
    }
    main {
      flex: 1;
      padding: 3rem 2rem;
      max-width: 900px;
      margin: 0 auto;
    }
    footer {
      background-color: #f0e9e0;
      padding: 1rem;
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      border-top: 1px solid #ccc;
    }
  </style>
</head>
<body>

<header>
  <nav>
    <a href="index.html">Accueil</a>
    <a href="apropos.html">À propos</a>
    <a href="methodes.html">Méthodes de Tirages</a>
    <a href="heka.html">Oracle Heka</a>
    <a href="sia.html">Oracle Sia</a>
    <a href="seshat.html">Oracle Seshat</a>
    <a href="decouverte.html">Découverte</a>
  </nav>
</header>

<main>
  <h1>Tirage numérologique – Oracle Seshat</h1>
  <div style="display: flex; align-items: center; gap: 2rem; margin: 1.5rem 0;">
  <fieldset style="border: none; margin: 0;">
  <legend><strong>Choisir l’aspect :</strong></legend>
  <label><input type="radio" name="aspect" value="personnalité" checked> Personnalité</label><br>
  <label><input type="radio" name="aspect" value="affectif"> Affectif</label><br>
  <label><input type="radio" name="aspect" value="spirituel"> Spirituel</label>
</fieldset>

  <button id="melangerBtn" onclick="melangerEtCouper()">Mélanger et couper le jeu</button>
  <button id="tirerBtn" onclick="tirerLesCartes()">Tirer les cartes</button>
  <button id="ajouterBtn" onclick="ajouterUneCarte()">Ajouter une carte</button>
  <button id="réinitialiserBtn" onclick="réinitialiser()">Réinitialiser</button>
</div>
  <div style="margin-top: 2rem;">
  <label for="question"><strong>Posez votre question (facultatif) :</strong></label><br>
  <input type="text" id="question" name="question" placeholder="Écrivez votre question ici..." style="width: 100%; max-width: 600px; padding: 0.6rem; margin-top: 0.5rem; border: 1px solid #ccc; border-radius: 6px;">
     <label for="prénom"><strong>Prénom :</strong></label><br>
  <input type="text" id="champNom" name="prenom" placeholder="Entrer votre prénom" style="width: 100%; max-width: 600px; padding: 0.6rem; margin-top: 0.5rem; border: 1px solid #ccc; border-radius: 6px;">    
  <div style="margin-top: 1.5rem;">
  <label for="date_naissance"><strong>Date de naissance (JJ/MM/AAAA) :</strong></label><br>
  <input type="text" id="champDate" name="date_naissance" placeholder="Exemple : 15/05/1990" pattern="\\d{2}/\\d{2}/\\d{4}" style="width: 100%; max-width: 200px; padding: 0.6rem; margin-top: 0.5rem; border: 1px solid #ccc; border-radius: 6px;">
  </div>

<!-- Bouton pour afficher la synthèse -->
<button id="btnSynthese" style="display:none; margin-top: 1rem;">Voir la synthèse guidante</button>
    
  <p>Ce tirage est basé sur le nom complet (identité) et la date de naissance. Deux cartes majeures sont tirées :</p>
  <ul>
    <li>Carte d’Identité (valeur réduite du nom)</li>
    <li>Carte de Chemin (valeur réduite de la date de naissance)</li>
  </ul>
  <p>Seshat est l’oracle du passage. Il n’éclaire ni ce que l’on montre, ni ce que l’on ressent : il montre où cela mène.
     Il trace des lignes, ouvre des directions, indique des carrefours intérieurs. Il ne prédit rien, mais il révèle les dynamiques qui traversent une situation, une période, un être.</p>

 <div id="resultats" style="display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1.5rem;"></div>
</main>
<footer style="text-align:center; margin-top: 2rem; padding: 1rem; font-size: 0.9rem;">
  Produit par <strong>OracleHeka</strong> —
 <a href="mentions-legales.html">Mentions légales</a> —
  <a href="mailto:heka.sia.seshat@gmail.com">Contact</a> -
  <a href="faq.html">FAQ</a>
</footer>
 <script>
  let toutesLesCartes = [];
  let cartesDisponibles = [];
  let cartesTirees = [];
  let jeuPrepare = false;

  async function chargerCartes() {
     const reponse = await fetch("https://oracleheka.github.io/oracle_trium/data/seshat.json");
    toutesLesCartes = await reponse.json();
    cartesDisponibles = [...toutesLesCartes];
  }

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  async function melangerEtCouper() {
    if (toutesLesCartes.length === 0) {
      await chargerCartes();
    }

    cartesDisponibles = [...toutesLesCartes];
    shuffle(cartesDisponibles);
    jeuPrepare = true;

    document.getElementById("tirerBtn").disabled = false;
    document.getElementById("ajouterBtn").disabled = false;

    alert("Le jeu a été mélangé et coupé !");
  }
function numerologieReduction(valeur) {
  while (valeur > 9 && ![11, 22, 33].includes(valeur)) {
    valeur = valeur.toString().split('').reduce((acc, digit) => acc + parseInt(digit), 0);
  }
  return valeur;
}

function valeurLettres(nom) {
  const table = {
    A:1, J:1, S:1, B:2, K:2, T:2, C:3, L:3, U:3,
    D:4, M:4, V:4, E:5, N:5, W:5, F:6, O:6, X:6,
    G:7, P:7, Y:7, H:8, Q:8, Z:8, I:9, R:9
  };
  nom = nom.toUpperCase().replace(/[^A-Z]/g, "");
  let total = 0;
  for (let c of nom) {
    total += table[c] || 0;
  }
  return numerologieReduction(total);
}

function valeurDate(dateStr) {
  const digits = dateStr.replace(/[^0-9]/g, "").split('').map(Number);
  return numerologieReduction(digits.reduce((a, b) => a + b, 0));
}

function tirerNumerologique() {
    if (!jeuPrepare) {
      alert("Veuillez d'abord mélanger le jeu.");
      return;
    }

    const nom = document.getElementById("champNom").value.trim();
    const date = document.getElementById("champDate").value.trim();
    if (!nom || !date) {
      alert("Veuillez remplir le nom et la date de naissance.");
      return;
    }

    try {
      const numNom = valeurLettres(nom);
      const numDate = valeurDate(date);
      const paquet = [...cartesDisponibles];
      shuffle(paquet);

      const indexCarte1 = numNom - 1;
      const indexCarte2 = indexCarte1 + numDate;

      if (indexCarte2 >= paquet.length) {
        alert("Pas assez de cartes dans le paquet.");
        return;
      }

      const carte1 = paquet[indexCarte1];
      const carte2 = paquet[indexCarte2];

      const aspect = document.querySelector('input[name="aspect"]:checked').value;
      const sens1 = Math.random() < 0.5 ? "endroit" : "inversé";
      const sens2 = Math.random() < 0.5 ? "endroit" : "inversé";

      const texte1 = carte1[sens1][aspect]?.texte || "(Message manquant)";
      const texte2 = carte2[sens2][aspect]?.texte || "(Message manquant)";

      const zone = document.getElementById("resultats");
      zone.innerHTML = "";

      const div1 = document.createElement("div");
      div1.innerHTML = `
        <strong>Identité (${nom})</strong><br>
      <strong>${carte1.id} : (${carte1.nom}) : (${sens1})</strong><br>
      <img src="${carte1.image}" alt="Carte ${carte1.id} – ${carte1.nom} de l’Oracle Seshat" style="width:100px"><br>
      <p style="margin-top:0.5rem;">${texte1}</p>
      `;
      styleCarte(div1);
      zone.appendChild(div1);

      const div2 = document.createElement("div");
      div2.innerHTML = `
        <strong>Chemin (${date})</strong><br>
      <strong>${carte2.id} : (${carte2.nom}) : (${sens2})</strong><br>
      <img src="${carte2.image}" alt="Carte ${carte2.id} – ${carte2.nom} de l’Oracle Seshat" style="width:100px"><br>
      <p style="margin-top:0.5rem;">${texte2}</p>
      `;
      styleCarte(div2);
      zone.appendChild(div2);

      cartesTirees = [
        { carte: carte1, sens: sens1 },
        { carte: carte2, sens: sens2 }
      ];

    } catch (err) {
      alert("Erreur lors du calcul : " + err.message);
    }

    document.getElementById("btnSynthese").style.display = "inline-block";
  }
   
   function afficherSyntheseNumerologique() {
  const aspect = document.querySelector('input[name="aspect"]:checked')?.value;
  const question = document.getElementById("question")?.value || "";
  const prenomInput = document.getElementById("champNom")?.value || "";
  const prenom = prenomInput.charAt(0).toUpperCase() + prenomInput.slice(1).toLowerCase();

  if (cartesTirees.length === 0) {
    alert("Veuillez d'abord tirer les cartes.");
    return;
  }

  // Création d’un résumé lisible des deux cartes
  const resume = cartesTirees.map(({ carte, sens }) => {
    const interpretation = carte[sens][aspect]?.texte || "(Message manquant)";
    return `${carte.id} : (${carte.nom}) : (${sens}) → ${interpretation}`;
  }).join("\n");
     
  const synthese = genererSyntheseGuidante(cartesTirees, aspect, {
    question,
    prenom,
    mode: "normal"
  });

  document.getElementById("contenuSynthese").innerText =
    `--- Synthèse guidée du tirage numérologique ---\n\n${synthese}`;
  document.getElementById("syntheseModal").style.display = "flex";
}

  function fermerSynthese() {
    document.getElementById("syntheseModal").style.display = "none";
  }

  function réinitialiser() {
    location.reload();
  }

  function tirerLesCartes() {
    tirerNumerologique();
  }

  function styleCarte(element) {
    element.style.padding = "1rem";
    element.style.border = "1px solid #ccc";
    element.style.borderRadius = "8px";
    element.style.backgroundColor = "#fdfdfd";
    element.style.minWidth = "120px";
    element.style.textAlign = "center";
    element.style.marginRight = "1rem";
  }

  window.onload = function () {
    document.getElementById("tirerBtn").disabled = true;
    document.getElementById("ajouterBtn").disabled = true;
    document.getElementById("btnSynthese").onclick = afficherSyntheseNumerologique;
  };
 </script>
  
<div id="syntheseModal" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background-color: rgba(0, 0, 0, 0.5); z-index: 9999; justify-content: center; align-items: center;">
  <div style="background: white; padding: 2rem; max-width: 600px; max-height: 80vh; overflow-y: auto; border-radius: 12px; position: relative;">
    <button onclick="fermerSynthese()" style="position: absolute; top: 10px; right: 10px;">✖</button>
    <h2>Synthèse Guidante</h2>
    <div id="contenuSynthese" style="white-space: pre-wrap; margin-bottom: 1.5rem;"></div>
    <div style="text-align: center;">
      <button onclick="fermerSynthese()" style="background-color: #4a90e2; color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 6px; font-size: 1rem; cursor: pointer;">
        Fermer
      </button>
    </div>
  </div>
</div>
  <script src="data/synthese.js"></script>
</body>
</html>
